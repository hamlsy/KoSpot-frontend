<template>
  <div class="admin-page bg-gray-50 min-h-screen">
    <TheHeader />
    <div class="admin-content px-4 py-6 max-w-7xl mx-auto">
      <AdminPanel>
        <div class="admin-dashboard">
          <h1 class="dashboard-title text-2xl font-bold text-gray-800 mb-6">ğŸ› ï¸ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
          
          <!-- ë„¤ë¹„ê²Œì´ì…˜ íƒ­ -->
          <div class="admin-nav mb-6">
            <div class="flex border-b border-gray-200 overflow-x-auto pb-1">
              <button 
                @click="activeSection = 'game-modes'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'game-modes' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-gamepad mr-2"></i>
                <span>ê²Œì„ ëª¨ë“œ ê´€ë¦¬</span>
                <div v-if="activeSection === 'game-modes'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'roadview'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'roadview' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-street-view mr-2"></i>
                <span>ë¡œë“œë·° ê´€ë¦¬</span>
                <div v-if="activeSection === 'roadview'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'photo'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'photo' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-camera mr-2"></i>
                <span>í¬í†  ê´€ë¦¬</span>
                <div v-if="activeSection === 'photo'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'theme'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'theme' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-palette mr-2"></i>
                <span>í…Œë§ˆ ê´€ë¦¬</span>
                <div v-if="activeSection === 'theme'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'users'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'users' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-users mr-2"></i>
                <span>í”Œë ˆì´ì–´ ê´€ë¦¬</span>
                <div v-if="activeSection === 'users'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'banner'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'banner' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-image mr-2"></i>
                <span>ë°°ë„ˆ ê´€ë¦¬</span>
                <div v-if="activeSection === 'banner'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'play-results'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'play-results' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-chart-line mr-2"></i>
                <span>í”Œë ˆì´ ê²°ê³¼</span>
                <div v-if="activeSection === 'play-results'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
              <button 
                @click="activeSection = 'statistics'" 
                class="px-4 py-2 text-sm font-medium transition-colors relative whitespace-nowrap"
                :class="activeSection === 'statistics' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700'"
              >
                <i class="fas fa-analytics mr-2"></i>
                <span>ì ‘ì†ì í†µê³„</span>
                <div v-if="activeSection === 'statistics'" class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"></div>
              </button>
            </div>
          </div>
          
          <!-- ê²Œì„ ëª¨ë“œ ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'game-modes'">
            <GameModeToggleManager @toggle-mode="handleGameModeToggle" />
          </div>
          
          <!-- ë¡œë“œë·° ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'roadview'">
            <RoadviewManager />
          </div>
          
          <!-- í¬í†  ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'photo'">
            <PhotoManager />
          </div>
          
          <!-- í…Œë§ˆ ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'theme'">
            <ThemeManager />
          </div>
          
          <!-- í”Œë ˆì´ì–´ ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'users'">
            <PlayerManager />
          </div>
          
          <!-- ë°°ë„ˆ ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'banner'">
            <BannerManager />
          </div>
          
          <!-- í”Œë ˆì´ ê²°ê³¼ ê´€ë¦¬ ì„¹ì…˜ -->
          <div v-if="activeSection === 'play-results'">
            <GameResultsManager />
          </div>
          
          <!-- ì ‘ì†ì í†µê³„ ì„¹ì…˜ -->
          <div v-if="activeSection === 'statistics'">
            <VisitorStatsManager />
          </div>
        </div>
      </AdminPanel>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import AdminPanel from '@/features/admin/components/AdminPanel.vue'
import TheHeader from '@/core/components/TheHeader.vue'
import GameModeToggleManager from '@/features/admin/components/Game/GameModeToggleManager.vue'
import RoadviewManager from '@/features/admin/components/Game/RoadviewManager.vue'
import PhotoManager from '@/features/admin/components/Game/PhotoManager.vue'
import ThemeManager from '@/features/admin/components/Game/ThemeManager.vue'
import PlayerManager from '@/features/admin/components/User/PlayerManager.vue'
import BannerManager from '@/features/admin/components/Banner/BannerManager.vue'
import GameResultsManager from '@/features/admin/components/Analytics/GameResultsManager.vue'
import VisitorStatsManager from '@/features/admin/components/Analytics/VisitorStatsManager.vue'

// í™œì„± ì„¹ì…˜
const activeSection = ref('game-modes')

// ê²Œì„ ëª¨ë“œ í† ê¸€ í•¸ë“¤ëŸ¬
const handleGameModeToggle = (mode) => {
  console.log('ê²Œì„ ëª¨ë“œ í† ê¸€:', mode)
  // API í˜¸ì¶œ ë¡œì§ ì¶”ê°€
}
</script>

<style scoped>
.admin-page {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

.dashboard-title {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.admin-nav button {
  position: relative;
  transition: all 0.2s ease;
}

.admin-nav button:hover {
  background-color: rgba(79, 70, 229, 0.05);
}

.admin-nav button i {
  transition: transform 0.2s ease;
}

.admin-nav button:hover i {
  transform: scale(1.1);
}
</style>